<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wabike - Voice-Enabled Infrastructure</title>
    <style>
        :root {
            --bg-primary:#f5f5f7; --bg-secondary:#ffffff; --bg-tertiary:#f0f0f2; --bg-card:#ffffff;
            --text-primary:rgb(43,25,16); --text-secondary:#86868b; --border-color:rgba(0,0,0,0.08);
            --accent-color:rgb(224,100,57); --accent-hover:rgb(200,85,45); --accent-subtle:rgba(224,100,57,0.1);
            --success-color:#34c759; --warning-color:#ff9500; --error-color:#ff3b30; --info-color:#007aff;
            --shadow-sm:0 1px 2px 0 rgba(0,0,0,0.05);
            --shadow-md:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg:0 8px 32px rgba(0,0,0,0.12);
            --radius-sm:8px; --radius-md:12px; --radius-lg:16px; --radius-xl:24px;
        }
        [data-theme="dark"] {
            --bg-primary:#000000; --bg-secondary:#1c1c1e; --bg-tertiary:#2c2c2e; --bg-card:#1c1c1e;
            --text-primary:#f5f5f7; --text-secondary:#86868b; --border-color:rgba(255,255,255,0.1);
            --accent-color:rgb(224,100,57); --accent-hover:rgb(240,115,70); --accent-subtle:rgba(224,100,57,0.15);
            --success-color:#30d158; --warning-color:#ff9f0a; --error-color:#ff453a; --info-color:#0a84ff;
            --shadow-sm:0 1px 2px 0 rgba(0,0,0,0.3);
            --shadow-md:0 4px 6px -1px rgba(0,0,0,0.4),0 2px 4px -1px rgba(0,0,0,0.2);
            --shadow-lg:0 8px 32px rgba(0,0,0,0.5);
        }
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        html{font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",Roboto,sans-serif;-webkit-font-smoothing:antialiased}
        body{background:var(--bg-primary);color:var(--text-primary);min-height:100vh;transition:background .3s,color .3s;line-height:1.5;}

        /* Utility */
        .container{max-width:1200px;margin:0 auto;padding:0 24px}
        .flex{display:flex}
        .flex-col{flex-direction:column}
        .items-center{align-items:center}
        .justify-between{justify-content:space-between}
        .gap-4{gap:1rem}
        .grid{display:grid;gap:1.5rem}
        .grid-cols-2{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}
        .grid-cols-3{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
        .text-center{text-align:center}
        .text-sm{font-size:0.875rem;color:var(--text-secondary)}
        .font-bold{font-weight:700}
        .mt-4{margin-top:1rem}
        .mb-4{margin-bottom:1rem}
        .mb-8{margin-bottom:2rem}
        .p-4{padding:1rem}
        .p-6{padding:1.5rem}
        .w-full{width:100%}
        
        /* Nav */
        nav{padding:1.5rem 0}
        .nav-link{text-decoration:none;color:var(--text-secondary);font-weight:500;transition:color 0.2s;display:inline-flex;align-items:center;gap:6px;font-size:0.9rem}
        .nav-link:hover{color:var(--accent-color)}
        
        /* Theme Toggle */
        .theme-toggle{background:transparent;border:1px solid var(--border-color);color:var(--text-primary);padding:8px;border-radius:50%;cursor:pointer;transition:all 0.2s;display:flex;align-items:center;justify-content:center}
        .theme-toggle:hover{background:var(--bg-tertiary)}
        
        /* Hero */
        .hero{padding:4rem 0 3rem;text-align:center;position:relative;overflow:hidden}
        .hero::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle, var(--accent-subtle) 0%, transparent 50%);opacity:0.4;z-index:-1;pointer-events:none}
        .hero h1{font-size:3rem;font-weight:800;letter-spacing:-0.02em;margin-bottom:1rem;background:linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .hero p{font-size:1.25rem;color:var(--text-secondary);max-width:600px;margin:0 auto 2rem}
        
        /* Badge */
        .badge-external{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;background:rgba(255,149,0,0.1);color:#ff9500;border-radius:20px;font-size:0.75rem;font-weight:700;text-transform:uppercase;letter-spacing:0.05em;border:1px solid rgba(255,149,0,0.2);margin-bottom:1.5rem}
        
        /* Cards */
        .card{background:var(--bg-card);border-radius:var(--radius-lg);padding:1.5rem;border:1px solid var(--border-color);box-shadow:var(--shadow-md);transition:transform 0.2s, box-shadow 0.2s}
        .card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
        .card-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:1rem;font-size:1.5rem}
        
        /* Architecture Diagram */
        .arch-container{background:var(--bg-secondary);border-radius:var(--radius-xl);padding:2rem;border:1px solid var(--border-color);margin-bottom:3rem;overflow-x:auto}
        .arch-flow{display:flex;align-items:center;justify-content:center;gap:1.5rem;min-width:800px;padding:1rem}
        
        .arch-node{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:1rem;width:140px;text-align:center;position:relative;box-shadow:var(--shadow-sm);z-index:2}
        .arch-node strong{display:block;font-size:0.9rem;margin-bottom:4px}
        .arch-node span{font-size:0.75rem;color:var(--text-secondary)}
        .arch-node .icon{font-size:1.5rem;margin-bottom:6px;display:block}
        
        /* Service Colors */
        .svc-client { border-bottom: 3px solid var(--text-secondary); }
        .svc-compute { border-bottom: 3px solid var(--success-color); background: rgba(52,199,89,0.05); }
        .svc-infra { border-bottom: 3px solid var(--info-color); background: rgba(0,122,255,0.05); }
        .svc-data { border-bottom: 3px solid #af52de; background: rgba(175,82,222,0.05); } /* Purple for secrets/integrations */
        
        .arch-connector{flex:1;height:2px;background:var(--border-color);position:relative}
        .arch-connector::after{content:'‚Üí';position:absolute;right:0;top:-8px;background:var(--bg-secondary);color:var(--text-secondary);padding:0 4px;font-size:12px}
        .arch-connector-label{position:absolute;top:-18px;left:50%;transform:translateX(-50%);font-size:0.7rem;color:var(--text-secondary);background:var(--bg-secondary);padding:0 4px;white-space:nowrap}
        
        /* Stack Tags */
        .stack-tag{display:inline-block;padding:4px 10px;background:var(--bg-tertiary);color:var(--text-primary);border-radius:6px;font-size:0.8rem;font-weight:500;margin-right:6px;margin-bottom:6px;border:1px solid var(--border-color)}
        
        /* Pipeline Strip */
        .pipeline{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:var(--bg-card);border-radius:var(--radius-lg);border:1px solid var(--border-color);margin-bottom:2rem}
        .step{display:flex;flex-direction:column;align-items:center;flex:1;position:relative}
        .step-icon{width:40px;height:40px;background:var(--bg-tertiary);border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:0.5rem;color:var(--text-secondary);z-index:2}
        .step.active .step-icon{background:var(--success-color);color:white;box-shadow:0 0 0 4px rgba(52,199,89,0.2)}
        .step-line{position:absolute;top:20px;left:50%;width:100%;height:2px;background:var(--border-color);z-index:1}
        .step:last-child .step-line{display:none}
        .step-text{font-size:0.8rem;font-weight:500;color:var(--text-secondary)}
        
        /* Table */
        .resource-table{width:100%;border-collapse:collapse;font-size:0.9rem}
        .resource-table th{text-align:left;padding:1rem;border-bottom:1px solid var(--border-color);color:var(--text-secondary);font-weight:600}
        .resource-table td{padding:1rem;border-bottom:1px solid var(--border-color)}
        .resource-table tr:last-child td{border-bottom:none}
        
        /* Config Box */
        .config-box{background:var(--bg-tertiary);padding:1rem;border-radius:var(--radius-md);font-family:monospace;font-size:0.85rem;color:var(--text-primary);overflow-x:auto}
        
        /* Responsive adjustments */
        @media (max-width:768px){
            .hero h1{font-size:2rem}
            .arch-flow{flex-direction:column;min-width:auto;}
            .arch-connector{width:2px;height:30px;flex:none}
            .arch-connector::after{top:auto;bottom:0;left:-8px;transform:rotate(90deg)}
            .arch-connector-label{top:auto;bottom:-14px;left:30px;transform:none}
            .pipeline{flex-direction:column;gap:1.5rem}
            .step-line{width:2px;height:100%;top:40px;left:20px}
            .step.active .step-icon{background:var(--bg-tertiary);color:var(--text-secondary);box-shadow:none} /* Reset active for mobile stack */
        }
    </style>
</head>
<body>

    <!-- Navigation -->
    <div class="container">
        <nav class="flex justify-between items-center">
            <a href="../../index.html" class="nav-link">
                <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg>
                Back to Explorer
            </a>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle Theme">
                <svg class="sun-icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg>
            </button>
        </nav>
    </div>

    <!-- Header -->
    <header class="container hero">
        <span class="badge-external">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
            External ‚Äî seduerr91
        </span>
        <h1>Wabike</h1>
        <p>Voice-first AI ebike consultant powered by FastAPI, AG2, and AWS ECS Fargate. Real-time routing & shop integration.</p>
        
        <div class="flex justify-center gap-4 flex-wrap" style="margin-top: 2rem;">
            <a href="https://github.com/seduerr91/wabike" target="_blank" class="btn" style="background:var(--text-primary);color:var(--bg-primary);text-decoration:none;padding:10px 24px;border-radius:var(--radius-md);font-weight:600;transition:opacity 0.2s;">View Repository</a>
            <a href="#" class="btn" style="background:var(--bg-card);color:var(--text-primary);border:1px solid var(--border-color);text-decoration:none;padding:10px 24px;border-radius:var(--radius-md);font-weight:600;">Live Demo</a>
        </div>
    </header>

    <main class="container mb-8">
        
        <!-- Tech Stack Strip -->
        <section class="mb-8 text-center">
            <div class="mb-4 text-sm font-bold text-secondary">POWERED BY</div>
            <div>
                <span class="stack-tag">Python 3.11</span>
                <span class="stack-tag">FastAPI</span>
                <span class="stack-tag">WebSockets</span>
                <span class="stack-tag">AG2 RealtimeAgent</span>
                <span class="stack-tag">Docker</span>
                <span class="stack-tag">AWS ECS Fargate</span>
                <span class="stack-tag">Slack SDK</span>
            </div>
        </section>

        <!-- Architecture Diagram Section -->
        <section class="mb-8">
            <div class="flex items-center gap-2 mb-4">
                <div class="card-icon" style="width:32px;height:32px;margin:0;font-size:1rem;color:var(--info-color)">‚òÅÔ∏è</div>
                <h2 class="font-bold">Infrastructure Architecture</h2>
            </div>
            <p class="text-sm mb-4">A real-time audio processing pipeline orchestrated via AWS container services.</p>
            
            <div class="arch-container">
                <div class="arch-flow">
                    <!-- Origin -->
                    <div class="arch-node svc-client">
                        <span class="icon">üåê</span>
                        <strong>Browser / PWA</strong>
                        <span>Client Audio</span>
                    </div>
                    
                    <div class="arch-connector">
                        <span class="arch-connector-label">WSS (Audio Stream)</span>
                    </div>

                    <!-- Entry -->
                    <div class="arch-node svc-infra">
                        <span class="icon">üì°</span>
                        <strong>AWS ALB</strong>
                        <span>Load Balancer</span>
                    </div>

                    <div class="arch-connector">
                        <span class="arch-connector-label">HTTP/WS</span>
                    </div>

                    <!-- Compute -->
                    <div class="arch-node svc-compute" style="width:200px">
                        <span class="icon">‚ö°</span>
                        <strong>ECS Fargate</strong>
                        <span>FastAPI + AG2 Agent</span>
                    </div>

                    <!-- Side Integrations -->
                    <div class="flex-col" style="gap:20px">
                        <div class="arch-node svc-data">
                            <span class="icon">üîí</span>
                            <strong>Secrets Mgr</strong>
                            <span>Keys & Config</span>
                        </div>
                        <div class="arch-node svc-data" style="border-color:#4A154B; background:rgba(74,21,75,0.1)">
                            <span class="icon">#</span>
                            <strong>Slack API</strong>
                            <span>Notifications</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Grid Layout for Features -->
        <section class="grid grid-cols-2 mb-8">
            <!-- Feature Card 1 -->
            <div class="card">
                <div class="card-icon" style="background:var(--accent-subtle);color:var(--accent-color)">üéôÔ∏è</div>
                <h3 class="font-bold mb-4">Voice-First Experience</h3>
                <p class="text-sm">Real-time audio streaming via WebSockets. The browser captures voice, sends it to the backend, and receives streamed TTS responses instantly.</p>
            </div>
            <!-- Feature Card 2 -->
            <div class="card">
                <div class="card-icon" style="background:rgba(52,199,89,0.1);color:var(--success-color)">ü§ñ</div>
                <h3 class="font-bold mb-4">AG2 RealtimeAgent</h3>
                <p class="text-sm">Custom AI functions for ebike recommendations, store lookup, and route planning. Maintains conversation context throughout the session.</p>
            </div>
            <!-- Feature Card 3 -->
            <div class="card">
                <div class="card-icon" style="background:rgba(0,122,255,0.1);color:var(--info-color)">üê≥</div>
                <h3 class="font-bold mb-4">Containerized Deployment</h3>
                <p class="text-sm">Dockerized Python application running on AWS ECS Fargate. No server management, just scalable compute power.</p>
            </div>
            <!-- Feature Card 4 -->
            <div class="card">
                <div class="card-icon" style="background:rgba(255,149,0,0.1);color:var(--warning-color)">‚öôÔ∏è</div>
                <h3 class="font-bold mb-4">CI/CD Pipeline</h3>
                <p class="text-sm">GitHub Actions workflow builds the Docker image, pushes to Amazon ECR, and triggers deployments on push to main.</p>
            </div>
        </section>

        <!-- Resource Inventory Table -->
        <section class="mb-8">
            <h2 class="font-bold mb-4">Resource Inventory</h2>
            <div class="card p-0" style="padding:0;overflow:hidden;">
                <table class="resource-table">
                    <thead>
                        <tr style="background:var(--bg-tertiary)">
                            <th>Service</th>
                            <th>Purpose</th>
                            <th>Region</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color:var(--success-color);font-weight:600">ECS Fargate</td>
                            <td>Container orchestration for FastAPI app</td>
                            <td>us-west-2</td>
                        </tr>
                        <tr>
                            <td style="color:var(--info-color);font-weight:600">Application Load Balancer</td>
                            <td>Traffic routing for WebSocket & HTTP</td>
                            <td>us-west-2</td>
                        </tr>
                        <tr>
                            <td style="color:#af52de;font-weight:600">Secrets Manager</td>
                            <td>Secure storage for API keys & tokens</td>
                            <td>us-west-2</td>
                        </tr>
                        <tr>
                            <td style="color:#ff9f0a;font-weight:600">Amazon ECR</td>
                            <td>Docker image registry</td>
                            <td>us-west-2</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Configuration & Deployment -->
        <div class="grid grid-cols-2">
            <section class="card">
                <h3 class="font-bold mb-4 text-sm text-secondary">CONFIGURATION HIGHLIGHTS</h3>
                <div class="config-box">
                    <div style="margin-bottom:8px;opacity:0.7"># Environment Variables</div>
                    <div style="color:var(--accent-color)">OPENAI_API_KEY=***</div>
                    <div style="color:var(--info-color)">SLACK_BOT_TOKEN=***</div>
                    <div style="color:var(--success-color)">AWS_DEFAULT_REGION=us-west-2</div>
                    <div style="color:var(--text-primary)">AG2_MODEL=gpt-4o-realtime-preview</div>
                </div>
            </section>
            
            <section class="card">
                <h3 class="font-bold mb-4 text-sm text-secondary">DEPLOYMENT PIPELINE</h3>
                <div class="pipeline" style="margin-bottom:0;transform:scale(0.95);transform-origin:left top">
                    <div class="step active">
                        <div class="step-line"></div>
                        <div class="step-icon">üì§</div>
                        <div class="step-text">Git Push</div>
                    </div>
                    <div class="step active">
                        <div class="step-line"></div>
                        <div class="step-icon">üî®</div>
                        <div class="step-text">Build Image</div>
                    </div>
                    <div class="step active">
                        <div class="step-line"></div>
                        <div class="step-icon">üì¶</div>
                        <div class="step-text">Push to ECR</div>
                    </div>
                    <div class="step">
                        <div class="step-line"></div>
                        <div class="step-icon">üöÄ</div>
                        <div class="step-text">Update ECS</div>
                    </div>
                </div>
                <p class="text-sm mt-4">Automated via GitHub Actions. Builds on `ubuntu-latest` using `docker buildx` for multi-arch support.</p>
            </section>
        </div>

    </main>

    <footer class="text-center p-6" style="border-top:1px solid var(--border-color);margin-top:3rem;color:var(--text-secondary);font-size:0.875rem;">
        <p>¬© 2024 seduerr91. Running on AWS ECS Fargate.</p>
    </footer>

    <script>
        // Theme Toggle Logic
        const themeBtn = document.getElementById('themeToggle');
        const html = document.documentElement;
        
        // Icon SVGs
        const sunIcon = '<svg class="sun-icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg>';
        const moonIcon = '<svg class="moon-icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>';

        function setTheme(theme) {
            html.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            themeBtn.innerHTML = theme === 'light' ? sunIcon : moonIcon;
        }

        // Init
        const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        setTheme(savedTheme);

        // Toggle
        themeBtn.addEventListener('click', () => {
            const current = html.getAttribute('data-theme');
            setTheme(current === 'light' ? 'dark' : 'light');
        });
    </script>
</body>
</html>