<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinical Note Evaluation Suite | seduerr91</title>
    <style>
        :root {
            --bg-primary:#f5f5f7; --bg-secondary:#ffffff; --bg-tertiary:#f0f0f2; --bg-card:#ffffff;
            --text-primary:rgb(43,25,16); --text-secondary:#86868b; --border-color:rgba(0,0,0,0.08);
            --accent-color:rgb(224,100,57); --accent-hover:rgb(200,85,45); --accent-subtle:rgba(224,100,57,0.1);
            --success-color:#34c759; --warning-color:#ff9500; --error-color:#ff3b30; --info-color:#007aff;
            --shadow-sm:0 1px 2px 0 rgba(0,0,0,0.05);
            --shadow-md:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg:0 8px 32px rgba(0,0,0,0.12);
            --radius-sm:8px; --radius-md:12px; --radius-lg:16px; --radius-xl:24px;
            --font-sans:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",Roboto,sans-serif;
        }
        [data-theme="dark"] {
            --bg-primary:#000000; --bg-secondary:#1c1c1e; --bg-tertiary:#2c2c2e; --bg-card:#1c1c1e;
            --text-primary:#f5f5f7; --text-secondary:#86868b; --border-color:rgba(255,255,255,0.1);
            --accent-color:rgb(224,100,57); --accent-hover:rgb(240,115,70); --accent-subtle:rgba(224,100,57,0.15);
            --success-color:#30d158; --warning-color:#ff9f0a; --error-color:#ff453a; --info-color:#0a84ff;
            --shadow-sm:0 1px 2px 0 rgba(0,0,0,0.3);
            --shadow-md:0 4px 6px -1px rgba(0,0,0,0.4),0 2px 4px -1px rgba(0,0,0,0.2);
            --shadow-lg:0 8px 32px rgba(0,0,0,0.5);
        }

        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        html{scroll-behavior:smooth}
        body{background:var(--bg-primary);color:var(--text-primary);font-family:var(--font-sans);line-height:1.6;min-height:100vh;transition:background .3s,color .3s;overflow-x:hidden}
        
        /* Typography */
        h1,h2,h3,h4{font-weight:700;letter-spacing:-0.02em;margin-bottom:1rem}
        h1{font-size:clamp(2.5rem, 5vw, 4rem);line-height:1.1}
        h2{font-size:clamp(1.8rem, 3vw, 2.5rem);margin-top:3rem}
        h3{font-size:1.5rem;margin-top:1.5rem}
        p{color:var(--text-secondary);margin-bottom:1.5rem;font-size:1.05rem}
        a{text-decoration:none;color:inherit;transition:opacity 0.2s}
        a:hover{opacity:0.8}

        /* Utilities */
        .container{max-width:1000px;margin:0 auto;padding:0 20px}
        .flex{display:flex}
        .flex-col{flex-direction:column}
        .items-center{align-items:center}
        .justify-between{justify-content:space-between}
        .justify-center{justify-content:center}
        .gap-2{gap:0.5rem}
        .gap-4{gap:1rem}
        .gap-8{gap:2rem}
        .text-center{text-align:center}
        .mt-4{margin-top:1rem}
        .mt-8{margin-top:2rem}
        .relative{position:relative}
        .w-full{width:100%}

        /* Components: Nav */
        nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:1rem 2rem;background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--border-color);display:flex;align-items:center;justify-content:space-between}
        [data-theme="dark"] nav{background:rgba(28,28,30,0.6)}
        .nav-link{font-size:0.9rem;font-weight:600;color:var(--text-secondary);display:flex;align-items:center;gap:0.5rem}
        .nav-link:hover{color:var(--accent-color)}
        .theme-toggle{background:var(--bg-tertiary);border:none;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--text-primary);transition:transform 0.2s}
        .theme-toggle:hover{transform:scale(1.1)}

        /* Components: Hero */
        .hero{min-height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:80px;position:relative;overflow:hidden}
        .hero::before{content:'';position:absolute;top:-50%;left:-20%;width:800px;height:800px;background:radial-gradient(circle, var(--accent-subtle) 0%, transparent 70%);opacity:0.6;z-index:-1;filter:blur(60px)}
        .hero-title{background:linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1rem}
        .hero-subtitle{font-size:1.25rem;max-width:600px;margin-bottom:2rem}
        
        .badge-external{background:var(--warning-color);color:white;padding:0.25rem 0.75rem;border-radius:20px;font-size:0.75rem;font-weight:700;text-transform:uppercase;letter-spacing:0.05em;display:inline-flex;align-items:center;gap:0.5rem;box-shadow:0 4px 12px rgba(255, 149, 0, 0.3);margin-bottom:1.5rem}

        /* Button */
        .btn{display:inline-flex;align-items:center;gap:0.5rem;padding:0.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;transition:all 0.2s ease;border:none;cursor:pointer}
        .btn-primary{background:var(--accent-color);color:white;box-shadow:0 4px 14px rgba(224,100,57,0.4)}
        .btn-primary:hover{background:var(--accent-hover);transform:translateY(-2px);box-shadow:0 6px 20px rgba(224,100,57,0.5)}
        
        /* Glass Cards */
        .glass-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:1.5rem;box-shadow:var(--shadow-md);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);transition:transform 0.3s, box-shadow 0.3s}
        .glass-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}

        /* Flow Diagram */
        .pipeline-container{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:1rem;margin:4rem 0;padding:2rem;background:var(--bg-tertiary);border-radius:var(--radius-xl);position:relative;overflow:hidden}
        .pipeline-step{background:var(--bg-card);border:1px solid var(--border-color);padding:1rem 1.5rem;border-radius:var(--radius-md);text-align:center;min-width:140px;position:relative;z-index:2;box-shadow:var(--shadow-sm);transition:transform 0.2s}
        .pipeline-step:hover{transform:scale(1.05);border-color:var(--accent-color)}
        .pipeline-step svg{width:32px;height:32px;margin-bottom:0.5rem;color:var(--accent-color)}
        .pipeline-step h4{font-size:0.9rem;margin-bottom:0.2rem;color:var(--text-primary)}
        .pipeline-step span{font-size:0.75rem;color:var(--text-secondary)}
        .pipeline-arrow{flex:0 0 40px;height:2px;background:var(--border-color);position:relative}
        .pipeline-arrow::after{content:'';position:absolute;right:0;top:-3px;width:8px;height:8px;border-top:2px solid var(--border-color);border-right:2px solid var(--border-color);transform:rotate(45deg)}

        /* Stats Grid */
        .stats-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1.5rem;max-width:900px;margin:0 auto}
        .stat-tile{text-align:center;padding:2rem;background:var(--bg-tertiary);border-radius:var(--radius-lg)}
        .stat-number{font-size:3rem;font-weight:800;color:var(--accent-color);line-height:1;margin-bottom:0.5rem;display:block}
        .stat-label{font-size:0.9rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:0.05em}

        /* Feature Grid */
        .feature-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:1.5rem}
        .feature-card{padding:2rem;display:flex;flex-direction:column;gap:1rem}
        .feature-icon{width:48px;height:48px;background:var(--accent-subtle);border-radius:12px;display:flex;align-items:center;justify-content:center;color:var(--accent-color)}

        /* SOAP Grid */
        .soap-grid{display:grid;grid-template-columns:repeat(2, 1fr);gap:1rem;margin-top:2rem}
        @media(min-width: 768px){.soap-grid{grid-template-columns:repeat(4, 1fr)}}
        .soap-item{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:1.5rem;text-align:center;position:relative;overflow:hidden}
        .soap-letter{font-size:3rem;font-weight:900;color:var(--bg-tertiary);position:absolute;top:-10px;right:-10px;opacity:0.5}
        .soap-item h4{margin-top:0;position:relative;z-index:2;color:var(--accent-color)}
        .soap-item p{font-size:0.9rem;position:relative;z-index:2;margin:0}

        /* Code Block */
        .code-block-wrapper{background:#0d1117;border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-lg);margin:2rem 0;border:1px solid #30363d}
        .code-header{background:#161b22;padding:0.75rem 1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #30363d}
        .filename{font-family:monospace;font-size:0.85rem;color:#8b949e;display:flex;align-items:center;gap:0.5rem}
        .copy-btn{background:transparent;border:none;color:#8b949e;cursor:pointer;font-size:0.8rem;padding:0.25rem 0.5rem;border-radius:4px;transition:color 0.2s}
        .copy-btn:hover{color:#fff;background:#30363d}
        pre{padding:1rem;overflow-x:auto;color:#c9d1d9;font-family:"Menlo","Monaco","Consolas",monospace;font-size:0.9rem}
        code .kw{color:#ff7b72} /* Keyword */
        code .str{color:#a5d6ff} /* String */
        code .cmd{color:#79c0ff} /* Command */

        /* Badges */
        .tech-stack{display:flex;flex-wrap:wrap;gap:0.75rem;justify-content:center;margin:2rem 0}
        .badge{padding:0.35rem 0.85rem;border-radius:20px;font-size:0.8rem;font-weight:600;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary);display:flex;align-items:center;gap:0.4rem;transition:all 0.2s}
        .badge:hover{border-color:var(--accent-color);background:var(--accent-subtle)}

        /* Scroll Animation */
        .reveal{opacity:0;transform:translateY(30px);transition:all 0.8s cubic-bezier(0.5,0,0,1)}
        .reveal.visible{opacity:1;transform:translateY(0)}

        /* Footer */
        footer{border-top:1px solid var(--border-color);padding:3rem 1rem;margin-top:4rem;background:var(--bg-secondary)}
        .footer-content{max-width:800px;margin:0 auto;text-align:center}
        .footer-links{display:flex;justify-content:center;gap:2rem;flex-wrap:wrap;margin-top:1rem}
        .footer-link{color:var(--text-secondary);font-size:0.9rem}
        .footer-link:hover{color:var(--accent-color)}
        
        @media(max-width: 768px){
            .pipeline-arrow{display:none}
            .pipeline-container{flex-direction:column}
        }
    </style>
</head>
<body>
    <nav>
        <a href="../../index.html" class="nav-link">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
            Back to Explorer
        </a>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle Theme">
            <svg id="moonIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            <svg id="sunIcon" style="display:none" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
        </button>
    </nav>

    <main>
        <section class="hero text-center">
            <div class="reveal">
                <div class="badge-external">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                    External â€” seduerr91
                </div>
                <h1 class="hero-title">Clinical Note<br>Evaluation Suite</h1>
                <p class="hero-subtitle">
                    A robust framework leveraging DeepEval to assess AI-generated clinical SOAP notes. 
                    Prioritize accuracy, safety, and hallucination detection in medical AI.
                </p>
                <div class="flex justify-center gap-4">
                    <a href="https://github.com/seduerr91/eval-suite" target="_blank" class="btn btn-primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                        View Repository
                    </a>
                </div>
            </div>

            <!-- Pipeline Diagram -->
            <div class="pipeline-container reveal w-full" style="margin-top: 6rem; margin-bottom: 2rem;">
                <div class="pipeline-step">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    <h4>Transcripts</h4>
                    <span>Raw Data</span>
                </div>
                <div class="pipeline-arrow"></div>
                <div class="pipeline-step">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
                    <h4>LLM Gen</h4>
                    <span>Note Creation</span>
                </div>
                <div class="pipeline-arrow"></div>
                <div class="pipeline-step">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
                    <h4>DeepEval</h4>
                    <span>Quality & Safety</span>
                </div>
                <div class="pipeline-arrow"></div>
                <div class="pipeline-step">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect></svg>
                    <h4>Dashboard</h4>
                    <span>Visualization</span>
                </div>
            </div>
        </section>

        <section class="container reveal">
            <div class="stats-grid">
                <div class="stat-tile">
                    <span class="stat-number" data-target="4">0</span>
                    <span class="stat-label">Evaluation Stages</span>
                </div>
                <div class="stat-tile">
                    <span class="stat-number" data-target="100">0</span>
                    <span class="stat-label">% Safety Focused</span>
                </div>
                <div class="stat-tile">
                    <span class="stat-number" data-target="24">0</span>
                    <span class="stat-label">Hour Pipeline</span>
                </div>
                <div class="stat-tile">
                    <span class="stat-number" data-target="0">0</span>
                    <span class="stat-label">Tolerance for Error</span>
                </div>
            </div>
        </section>

        <section class="container mt-8 reveal">
            <h2 class="text-center">The SOAP Methodology</h2>
            <p class="text-center">Standardized structure for assessing clinical documentation.</p>
            
            <div class="soap-grid">
                <div class="soap-item">
                    <span class="soap-letter">S</span>
                    <h4>Subjective</h4>
                    <p>Patient's symptoms, concerns, and history.</p>
                </div>
                <div class="soap-item">
                    <span class="soap-letter">O</span>
                    <h4>Objective</h4>
                    <p>Physical exams, vitals, and lab results.</p>
                </div>
                <div class="soap-item">
                    <span class="soap-letter">A</span>
                    <h4>Assessment</h4>
                    <p>Diagnosis and clinical impression.</p>
                </div>
                <div class="soap-item">
                    <span class="soap-letter">P</span>
                    <h4>Plan</h4>
                    <p>Treatment roadmap and follow-up.</p>
                </div>
            </div>
        </section>

        <section class="container mt-8 reveal" style="max-width: 800px;">
            <h2 class="text-center">What makes it robust?</h2>
            <div class="feature-grid">
                <div class="glass-card feature-card">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    </div>
                    <div>
                        <h3>Clinical Safety</h3>
                        <p>Identifies missing critical findings and hallucinated facts to prevent medical errors.</p>
                    </div>
                </div>
                <div class="glass-card feature-card">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                    <div>
                        <h3>Automated Eval</h3>
                        <p>Uses DeepEval to batch-process notes against ground-truth data efficiently.</p>
                    </div>
                </div>
                <div class="glass-card feature-card">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                    </div>
                    <div>
                        <h3>Extensible</h3>
                        <p>Framework design allows easy swapping of datasets or underlying models.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mt-8 reveal" style="max-width: 800px;">
            <h2 class="text-center">Quick Start</h2>
            <p class="text-center">Set up your environment and run the dashboard instantly.</p>
            
            <div class="code-block-wrapper">
                <div class="code-header">
                    <span class="filename">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                        terminal
                    </span>
                    <button class="copy-btn" onclick="navigator.clipboard.writeText(this.parentElement.nextElementSibling.innerText)">Copy</button>
                </div>
<pre><code><span class="cmd"># Install dependencies via Just</span>
just install

<span class="cmd"># Download dataset</span>
just setup-data

<span class="cmd"># Run full evaluation & launch dashboard</span>
just run-full
just dashboard</code></pre>
            </div>
        </section>

        <section class="container mt-8 reveal text-center">
            <h2>Built for Science</h2>
            <div class="tech-stack">
                <span class="badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path></svg> Python</span>
                <span class="badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg> DeepEval</span>
                <span class="badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg> Streamlit</span>
                <span class="badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a10 10 0 1 0 10 10H12V2z"></path><path d="M12 2a10 10 0 0 1 10 10"></path><path d="M12 12v10a10 10 0 0 1-10-10"></path></svg> Terraform</span>
                <span class="badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line></svg> Docker</span>
            </div>
        </section>

    </main>

    <footer>
        <div class="footer-content">
            <p style="font-size:0.9rem">&copy; 2023 seduerr91. All rights reserved.</p>
            <div class="footer-links">
                <a href="https://github.com/seduerr91/eval-suite" target="_blank" class="footer-link">GitHub Repository</a>
                <a href="../../index.html" class="footer-link">Back to Explorer</a>
            </div>
            <p style=" margin-top:1.5rem; font-size:0.8rem; color:var(--text-secondary); opacity:0.6;">Generated by Cerebras</p>
        </div>
    </footer>

    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        const moonIcon = document.getElementById('moonIcon');
        const sunIcon = document.getElementById('sunIcon');

        function updateIcon() {
            if (html.getAttribute('data-theme') === 'dark') {
                moonIcon.style.display = 'none';
                sunIcon.style.display = 'block';
            } else {
                moonIcon.style.display = 'block';
                sunIcon.style.display = 'none';
            }
        }

        // Check local storage
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            html.setAttribute('data-theme', savedTheme);
        } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            html.setAttribute('data-theme', 'dark');
        }
        updateIcon();

        themeToggle.addEventListener('click', () => {
            const current = html.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', next);
            localStorage.setItem('theme', next);
            updateIcon();
        });

        // IntersectionObserver for Scroll Animations
        const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    // Trigger counter animation if it's a stat tile
                    const counters = entry.target.querySelectorAll('.stat-number');
                    counters.forEach(counter => animateCounter(counter));
                    
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // Animated Counter Logic
        function animateCounter(el) {
            const target = parseInt(el.getAttribute('data-target'));
            const duration = 1500; // ms
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // EaseOutQuart
                const ease = 1 - Math.pow(1 - progress, 4);
                
                const currentVal = Math.floor(ease * target);
                
                // Special formatting for the "% Safety Focused" stat
                if (target === 100 && el.innerText.includes('%')) {
                    el.innerText = currentVal + '%';
                } else {
                    el.innerText = currentVal;
                }

                if (progress < 1) {
                    requestAnimationFrame(update);
                } else {
                    el.innerText = target + (target === 100 ? '%' : '');
                }
            }
            requestAnimationFrame(update);
        }
    </script>
</body>
</html>